# wifi-bestchannel
OpenWrt下 2.4G/5G Wifi 最优信道选择，use lua and ubus

# 说明及更新日志：
2020-09-29:
1. 实现很简单，就是路由器 scan 附近的所有 2.4G wifi 信道，然后对比所有主要频段的信号强度，选择当中高强度信号最少的频段（干扰最小）的，进行选择
2. 如果附近最强的信号不超过 -50dbm ，则默认用 -50dbm 进行信道对比。 可以通过 find_best_channel_24g 函数进行调整
3. 默认使用 1 6 11 13 这几个主要频段，最终结果也是对比并采用这几个频段
4. 因为部分路由器采用了非标准频段，即非 1 6 11 13 频段，所以也将邻频干扰稍微考虑了下
5. ~~暂不考虑 5G 的自动选择频段~~

2020-10-13:
1. 增加对5G网络的监测，默认支持 149 153 157 161 165 等多区域支持的频段，也可以调整源码，增加 36 40 44 48 等几个常用频段
2. 为增强稳定性，2.4G 修改为仅支持 1 6 11 频段，因 13 频段在部分区域内不支持
3. 增加命令行参数，参数 1 可以是 all 2.4g 5g 三种，确定扫描频段；参数 2 如果是 true ，则进行最优信道的调整，否则不调整

# 备注
很简单的算法，效果尚可，可以放在 crontab 中定时执行
